"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Todo=function(){var e={enter:document.querySelector(".todo"),contentAll:document.querySelector(".list-all"),complete:document.querySelector(".list-complete"),incompleted:document.querySelector(".list-incompleted"),removeBtn:document.getElementsByClassName("remove"),items:document.getElementsByClassName("content-list__item"),switched:document.querySelector(".switch input"),live:document.querySelector(".status"),content:document.querySelector(".things"),activeTabs:document.querySelector(".active-tabs"),tabs:document.querySelectorAll(".tabs"),contentList:document.querySelectorAll(".content-list")},t=[],n=!1,c=0,l=function(){n?(e.live.classList.remove("on"),e.live.classList.add("off"),n=!1):(n=!0,e.live.classList.remove("off"),e.live.classList.add("on")),m()},o=function s(){var n=this;_classCallCheck(this,s),this.id=c++,this.subject=e.content.value,t.push(this),this.createItem=function(){n.newItem=document.createElement("LI"),n.removeBtn=document.createElement("SPAN"),n.checkbox=document.createElement("INPUT"),n.apply=document.createElement("SPAN"),n.label=document.createElement("LABEL"),n.checkbox.type="checkbox",n.newItem.classList.add("content-list__item"),n.removeBtn.classList.add("remove"),n.newItem.setAttribute("data-name",n.id),n.textNode=document.createTextNode(n.subject),n.newItem.appendChild(n.label),n.label.appendChild(n.checkbox),n.label.appendChild(n.apply),n.newItem.appendChild(n.textNode),n.newItem.appendChild(n.removeBtn),e.contentAll.appendChild(n.newItem),e.content.value="",n.cloneItem=n.newItem.cloneNode(!0),n.cloneItem.removeChild(n.cloneItem.children[0]),n.cloneItem.removeChild(n.cloneItem.children[0]),e.incompleted.appendChild(n.cloneItem)},this.removeItem=function(){if(!n.checkbox.checked){e.incompleted.removeChild(n.cloneItem),e.contentAll.removeChild(n.newItem),t.splice(n.id,1);for(var l=0;l<t.length;l++)t[l].id=l,e.items[l].setAttribute("data-name",l);c=t.length}},this.checkedItem=function(){n.checkbox.checked?(e.complete.removeChild(n.cloneItem),e.incompleted.appendChild(n.cloneItem)):(e.incompleted.removeChild(n.cloneItem),e.complete.appendChild(n.cloneItem))}},i=function(e){13===e.keyCode&&n&&(new o,t.forEach(function(e,n){n===t.length-1&&t[n].createItem()}))},a=function(e){var n=e.target,c=n.parentNode.getAttribute("data-name");"SPAN"===n.tagName?t[c].removeItem():"LABEL"===n.tagName&&t[c].checkedItem()},d=function(t){if("SPAN"===t.target.tagName){for(var n=parseFloat(t.target.getAttribute("data-tab")),c=0,l=e.tabs.length;c<l;c++)e.tabs[c].classList.remove("tab-active"),e.contentList[c].style.display="none";t.target.classList.add("tab-active"),e.contentList[n].style.display="block"}},m=function(){e.switched.addEventListener("click",l),n?(e.content.addEventListener("keypress",i),e.contentAll.addEventListener("click",a),e.activeTabs.addEventListener("click",d)):(e.content.removeEventListener("click",i),e.contentAll.removeEventListener("click",a),e.activeTabs.removeEventListener("click",d))};return{init:m}}();Todo.init();